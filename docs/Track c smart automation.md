# íŠ¸ë™ C: ì§€ëŠ¥í˜• ìë™í™” (Smart Automation)

## ê°œìš”

ì´ ë¬¸ì„œëŠ” íŠ¸ë™ A(Layer MVP) + íŠ¸ë™ B(ì‹œê°/ì˜¤ë””ì˜¤) **ì™„ë£Œ í›„** ì§„í–‰í•˜ëŠ” LLM ê¸°ë°˜ ì§€ëŠ¥í˜• ìë™í™”ë¥¼ ì •ì˜í•œë‹¤. í˜„ì¬ ê·œì¹™ ê¸°ë°˜(rule-based) ì‹œìŠ¤í…œì„ LLM ê¸°ë°˜ìœ¼ë¡œ ì§„í™”ì‹œì¼œ, ê¶ê·¹ì ìœ¼ë¡œ **ë‚˜ë ˆì´ì…˜ í…ìŠ¤íŠ¸ë§Œ ì“°ë©´ ëª¨ë“  ê²ƒì´ ìë™**ì¸ ìƒíƒœë¥¼ ëª©í‘œë¡œ í•œë‹¤.

### ì™œ íŠ¸ë™ A+B ì´í›„ì¸ê°€
- LLMì´ "pointing_right í¬ì¦ˆë¥¼ ì¶”ì²œ"í•˜ë ¤ë©´ â†’ í¬ì¦ˆê°€ ì¶©ë¶„íˆ ìˆì–´ì•¼ í•¨ (íŠ¸ë™ A)
- LLMì´ "emphasis_number ì”¬ í…œí”Œë¦¿ ì ìš©"í•˜ë ¤ë©´ â†’ ì”¬ í…œí”Œë¦¿ì´ ì¡´ì¬í•´ì•¼ í•¨ (íŠ¸ë™ A)
- LLMì´ "tense BGM ì„ íƒ"í•˜ë ¤ë©´ â†’ BGM ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆì–´ì•¼ í•¨ (íŠ¸ë™ B)
- ì¶”ì²œí•  ì„ íƒì§€ê°€ ë¹ˆì•½í•˜ë©´ LLMì„ ë¶™ì—¬ë„ ê²°ê³¼ë¬¼ì´ ë‹¨ì¡°ë¡œì›€

### ì„ í–‰ ì¡°ê±´
```
íŠ¸ë™ A ì™„ë£Œ í•„ìš”:
  âœ“ í¬ì¦ˆ 15ê°œ+, ëª¨ì…˜ 22ê°œ+
  âœ“ ì¹´ë©”ë¼ í”„ë¦¬ì…‹ 5ê°œ+
  âœ“ ë ˆì´ì•„ì›ƒ í”„ë¦¬ì…‹ 10ê°œ+
  âœ“ íƒ€ì´ë° í”„ë¦¬ì…‹ 5ê°œ+
  âœ“ ì”¬ í…œí”Œë¦¿ 8ê°œ+
  âœ“ ì˜ìƒ í…œí”Œë¦¿ 2ê°œ+

íŠ¸ë™ B ì™„ë£Œ í•„ìš”:
  âœ“ BGM ë¼ì´ë¸ŒëŸ¬ë¦¬ 8ê³¡+
  âœ“ SFX ë¼ì´ë¸ŒëŸ¬ë¦¬ 8ê°œ+
  âœ“ ì»¬ëŸ¬ í…Œë§ˆ 4ê°œ+
  âœ“ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ 4ì¢…+
  âœ“ íŠ¸ëœì§€ì…˜ 5ì¢…+
```

### ì˜ì¡´ ê´€ê³„
```
íŠ¸ë™ A (Layer MVP) â”€â”€â”
                      â”œâ”€â”€â†’ íŠ¸ë™ C (ì´ ë¬¸ì„œ) â”€â”€â†’ íŠ¸ë™ D (UX/ë°°í¬/í™•ì¥)
íŠ¸ë™ B (ì‹œê°/ì˜¤ë””ì˜¤) â”€â”˜
```

---

## ìë™í™” ë ˆë²¨ ì •ì˜

```
Level 0 (í˜„ì¬): ì „ë¶€ ìˆ˜ë™
  ìœ ì €ê°€ ì”¬, ì˜¤ë¸Œì íŠ¸, í¬ì¦ˆ, ëª¨ì…˜, ë ˆì´ì•„ì›ƒ ì „ë¶€ ì§€ì •

Level 1: ìŠ¤ë§ˆíŠ¸ ë””í´íŠ¸
  ìœ ì €ê°€ ì”¬ê³¼ ì˜¤ë¸Œì íŠ¸ ì§€ì •, ë ˆì´ì•„ì›ƒ/ëª¨ì…˜/ì¹´ë©”ë¼/í…Œë§ˆ ìë™

Level 2: ë‚˜ë ˆì´ì…˜ + íŒíŠ¸
  ìœ ì €ê°€ ë‚˜ë ˆì´ì…˜ + ê°„ë‹¨í•œ íŒíŠ¸ë§Œ, ì˜¤ë¸Œì íŠ¸/í¬ì¦ˆ/í‘œì • ìë™ ì¶”ì²œ

Level 3: ë‚˜ë ˆì´ì…˜ë§Œ
  ìœ ì €ê°€ í…ìŠ¤íŠ¸ë§Œ ì‘ì„±, ì”¬ ë¶„í• ë¶€í„° ì „ì²´ ì˜ìƒ êµ¬ì„±ê¹Œì§€ ìë™
```

---

## C-1. Level 1: ìŠ¤ë§ˆíŠ¸ ë””í´íŠ¸

> ê¸°ì¡´ ë§ˆí¬ë‹¤ìš´ í¬ë§·ì€ ìœ ì§€í•˜ë˜, ë¹„ì–´ìˆëŠ” ë¶€ë¶„ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ì±„ìš´ë‹¤.
> **LLM ë¶ˆí•„ìš”** â€” ë£° ì—”ì§„ í™•ì¥ìœ¼ë¡œ êµ¬í˜„.

### í˜„ì¬ vs Level 1

| í•­ëª© | í˜„ì¬ | Level 1 |
|------|------|---------|
| ì”¬ í…œí”Œë¦¿ | ì—†ìŒ | ì˜¤ë¸Œì íŠ¸ ì¡°í•© + ì”¬ ìœ„ì¹˜ë¡œ ìë™ ì„ íƒ |
| ëª¨ì…˜ | ì „ë¶€ breathing | í¬ì¦ˆ/í‘œì •ì— ì–´ìš¸ë¦¬ëŠ” ëª¨ì…˜ ìë™ ë§¤ì¹­ |
| ì¹´ë©”ë¼ | ê³ ì • | ì”¬ ì—­í• ì— ë”°ë¼ ìë™ ì„ íƒ |
| ë°°ê²½ìƒ‰ | ê³ ì • | í…Œë§ˆ íŒ”ë ˆíŠ¸ ë‚´ì—ì„œ ì”¬ë³„ ìë™ ë³€í™” |
| SFX | ì—†ìŒ | ì˜¤ë¸Œì íŠ¸ ë“±ì¥ ì´ë²¤íŠ¸ì— ìë™ ë§¤í•‘ |
| BGM | ì—†ìŒ | frontmatter ì§€ì • or ê¸°ë³¸ê°’ ìë™ |
| í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ | ì „ë¶€ ë™ì¼ | ì²« ë²ˆì§¸ í…ìŠ¤íŠ¸ = title, ë‚˜ë¨¸ì§€ = body |
| íŠ¸ëœì§€ì…˜ | ì „ë¶€ fade | ì”¬ ì—­í• ì— ë”°ë¼ ìë™ ì„ íƒ |

### êµ¬í˜„: ë£° ì—”ì§„ (`scene_builder.py` í™•ì¥)

#### ì”¬ í…œí”Œë¦¿ ìë™ ì„ íƒ
```python
def auto_select_scene_template(
    scene_index: int,
    total_scenes: int,
    directives: list[Directive],
    narration: str,
) -> str:
    position_ratio = scene_index / total_scenes
    
    # ìœ„ì¹˜ ê¸°ë°˜ ê¸°ë³¸ ë£°
    if scene_index == 0:
        return "intro_greeting"
    if scene_index == total_scenes - 1:
        return "closing_summary"
    
    # ì˜¤ë¸Œì íŠ¸ ê¸°ë°˜ ë£°
    if has_counter(directives):
        return "emphasis_number"
    if has_multiple_text(directives):
        return "compare_side_by_side"
    
    # ìœ„ì¹˜ ê¸°ë°˜ êµëŒ€ (ë‹¨ì¡°ë¡œì›€ ë°©ì§€)
    if position_ratio < 0.3:
        return alternate_by_index(scene_index, 
            ["explain_default", "explain_formula"])
    elif position_ratio < 0.7:
        return alternate_by_index(scene_index,
            ["explain_default", "explain_reverse", "example_with_counter"])
    else:
        return alternate_by_index(scene_index,
            ["emphasis_statement", "transition_topic_change"])
```

#### ëª¨ì…˜ ìë™ ë§¤ì¹­
```python
POSE_MOTION_MAP = {
    # í¬ì¦ˆ â†’ ê¸°ë³¸ ëª¨ì…˜ ë§¤í•‘
    "standing": "breathing",
    "pointing_right": "breathing",
    "pointing_left": "breathing",
    "thinking": "thinking_loop",
    "explaining": "nodding",
    "celebrating": "jumping",
    "sitting": "breathing",
    "shrugging": "headShake",
    "waving": "waving_loop",
    "thumbsUp": "breathing",
    "beckoning": "breathing",
}

EXPRESSION_MOTION_OVERRIDE = {
    # í‘œì •ì´ íŠ¹ì • ëª¨ì…˜ì„ ì•”ì‹œí•˜ëŠ” ê²½ìš°
    "happy": None,               # ì˜¤ë²„ë¼ì´ë“œ ì—†ìŒ
    "sad": "crying",             # ìŠ¬í”ˆ í‘œì • + ìš°ëŠ” ëª¨ì…˜
    "surprised": None,
    "thinking": "thinking_loop",
    "angry": "headShake",
}
```

#### ì¹´ë©”ë¼ ìë™ ì„ íƒ
```python
TEMPLATE_CAMERA_MAP = {
    "intro_greeting": "static_full",
    "explain_default": "static_full",
    "explain_formula": "static_closeup",
    "explain_reverse": "static_full",
    "emphasis_number": "zoom_in_fast",
    "emphasis_statement": "zoom_in_slow",
    "compare_side_by_side": "static_wide",
    "transition_topic_change": "static_full",
    "example_with_counter": "static_full",
    "closing_summary": "static_full",
}
```

#### ë°°ê²½ìƒ‰ ìë™ ë³€í™”
```python
def auto_background_colors(theme: ColorTheme, total_scenes: int) -> list[str]:
    """í…Œë§ˆ íŒ”ë ˆíŠ¸ ë‚´ì—ì„œ ì”¬ë³„ ë°°ê²½ìƒ‰ ë¯¸ì„¸ ë³€í™”"""
    base = theme.background.primary
    secondary = theme.background.secondary
    
    colors = []
    for i in range(total_scenes):
        ratio = i / total_scenes
        # ê¸°ë³¸ â†’ ë³´ì¡° â†’ ê¸°ë³¸ìœ¼ë¡œ ì„œì„œíˆ ë³€í™”
        color = interpolate_color(base, secondary, sin(ratio * pi) * 0.3)
        colors.append(color)
    return colors
```

### ê°œë°œ ìˆœì„œ
1. ì”¬ í…œí”Œë¦¿ ìë™ ì„ íƒ ë£° êµ¬í˜„
2. í¬ì¦ˆ â†’ ëª¨ì…˜ ìë™ ë§¤ì¹­ í…Œì´ë¸”
3. í…œí”Œë¦¿ â†’ ì¹´ë©”ë¼ ë§¤í•‘
4. ë°°ê²½ìƒ‰ ìë™ ë³€í™”
5. íŠ¸ëœì§€ì…˜ ìë™ ì„ íƒ (ì—°ì† ê°™ì€ íŠ¸ëœì§€ì…˜ ë°©ì§€)
6. SFX ìë™ ë§¤í•‘

---

## C-2. Level 2: LLM ì–´ì‹œìŠ¤í„´íŠ¸

> ìœ ì €ê°€ ë‚˜ë ˆì´ì…˜ + ê°„ë‹¨í•œ íŒíŠ¸ë§Œ ì‘ì„±í•˜ë©´ LLMì´ ì˜¤ë¸Œì íŠ¸/í¬ì¦ˆ/í‘œì •ì„ ì¶”ì²œ.

### ìœ ì € ì…ë ¥ í¬ë§·
```markdown
---
title: ë³µë¦¬ì˜ ë§ˆë²•
voice: ko-KR-HyunsuNeural
style: dark_cool
bgm: calm_ambient
---

ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ ë³µë¦¬ì˜ ë†€ë¼ìš´ í˜ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.
[hint: ì¸ì‚¬]

ë‹¨ë¦¬ëŠ” ì›ê¸ˆì—ë§Œ ì´ìê°€ ë¶™ìŠµë‹ˆë‹¤.
[hint: ì„¤ëª…]

ë°±ë§Œì›ì„ ì—° 7%ë¡œ 30ë…„ íˆ¬ìí•˜ë©´ ì•½ 761ë§Œì›ì´ ë©ë‹ˆë‹¤.
[hint: ìˆ«ì ê°•ì¡°]

ì‹œê°„ì€ ë³µë¦¬ì˜ ê°€ì¥ ê°•ë ¥í•œ ë¬´ê¸°ì…ë‹ˆë‹¤.
ì˜¤ëŠ˜ë¶€í„° ì‹œì‘í•˜ì„¸ìš”!
[hint: ë§ˆë¬´ë¦¬]
```

### íŒŒì´í”„ë¼ì¸ í†µí•©
```
[ë§ˆí¬ë‹¤ìš´ + íŒíŠ¸]
       â†“
[LLM Enrichment ë‹¨ê³„] â† ìƒˆë¡œ ì¶”ê°€
       â†“
[enriched ë§ˆí¬ë‹¤ìš´] (ê¸°ì¡´ í¬ë§·ê³¼ ë™ì¼)
       â†“
[ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ ê·¸ëŒ€ë¡œ]
```

### LLM í”„ë¡¬í”„íŠ¸ ì„¤ê³„

#### ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
```
ë‹¹ì‹ ì€ ì¸í¬ê·¸ë˜í”½ ì˜ìƒ ê°ë…ì…ë‹ˆë‹¤.
ë‚˜ë ˆì´ì…˜ í…ìŠ¤íŠ¸ì™€ íŒíŠ¸ë¥¼ ë¶„ì„í•˜ì—¬ ê° ë¬¸ì¥ì— ì í•©í•œ ì˜ìƒ ìš”ì†Œë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤:
- í¬ì¦ˆ: standing, pointing_right, pointing_left, thinking, celebrating, 
        explaining, shrugging, sitting, waving, thumbsUp, beckoning, 
        depressed, surprised_pose, pointing_up, ...
- í‘œì •: neutral, happy, sad, surprised, thinking, excited, focused, angry, ...
- ëª¨ì…˜ (ë£¨í”„): breathing, nodding, typing, nervous, laughing, crying, 
              headShake, clapping, jumping, running, walkCycle, ...
- ì˜¤ë¸Œì íŠ¸: stickman, text, icon, counter, shape
- ì•„ì´ì½˜: lightbulb, money-bag, chart-up, piggy-bank, warning, 
          checkmark, cross, clock, target, star, book, ...
- ë„í˜•: arrow, line, circle, rectangle
- í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼: title, body, number, highlight_box
- ì”¬ í…œí”Œë¦¿: intro_greeting, explain_default, explain_formula, 
            explain_reverse, emphasis_number, emphasis_statement,
            compare_side_by_side, transition_topic_change, ...

ê·œì¹™:
1. ê° ë¬¸ì¥ì€ í•˜ë‚˜ì˜ ì”¬ì´ ë¨
2. ëª¨ë“  ì”¬ì— ìŠ¤í‹±ë§¨ í¬í•¨
3. í…ìŠ¤íŠ¸ ì˜¤ë¸Œì íŠ¸ëŠ” ë‚˜ë ˆì´ì…˜ì˜ í•µì‹¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ì—¬ ìƒì„±
4. ìˆ«ìê°€ ì–¸ê¸‰ë˜ë©´ counter ì˜¤ë¸Œì íŠ¸ ìë™ ì¶”ê°€
5. ì—°ì†ìœ¼ë¡œ ê°™ì€ í¬ì¦ˆ/í…œí”Œë¦¿ì´ ë°˜ë³µë˜ì§€ ì•Šë„ë¡ ë³€ì£¼
6. ê¸ì •ì  ë‚´ìš© â†’ happy/excited í‘œì •, ë¶€ì •ì  ë‚´ìš© â†’ sad/worried í‘œì •
```

#### ìœ ì € í”„ë¡¬í”„íŠ¸
```
ì•„ë˜ ë‚˜ë ˆì´ì…˜ì— ëŒ€í•´ ê° ë¬¸ì¥ë³„ë¡œ ì˜ìƒ êµ¬ì„±ì„ JSONìœ¼ë¡œ ì¶œë ¥í•˜ì„¸ìš”.

ë‚˜ë ˆì´ì…˜:
"ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ ë³µë¦¬ì˜ ë†€ë¼ìš´ í˜ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤."
íŒíŠ¸: ì¸ì‚¬

ì¶œë ¥ í˜•ì‹:
{
  "scene_template": "intro_greeting",
  "stickman": {
    "pose": "waving",
    "targetPose": null,
    "expression": "happy",
    "motion": "breathing"
  },
  "objects": [
    { "type": "text", "content": "ë³µë¦¬ì˜ ë§ˆë²•", "style": "title" },
    { "type": "icon", "name": "lightbulb" }
  ],
  "transition": "crossfade"
}
```

### LLM ì¶”ê°€ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ì˜¤ë¸Œì íŠ¸ ì¶”ì²œ | ë‚˜ë ˆì´ì…˜ì—ì„œ í‚¤ì›Œë“œ â†’ ì ì ˆí•œ ì•„ì´ì½˜/ë„í˜• ì¶”ì²œ | ğŸ”´ ë†’ìŒ |
| ê°ì • ë¶„ì„ â†’ í‘œì • ë§¤ì¹­ | "ë†€ëê²Œë„" â†’ surprised, "ì£¼ì˜í•˜ì„¸ìš”" â†’ sad | ğŸ”´ ë†’ìŒ |
| ì¹´ìš´í„° ìë™ ì¶”ì¶œ | "761ë§Œì›ì´ ë©ë‹ˆë‹¤" â†’ counter(0 â†’ 7610000) | ğŸ”´ ë†’ìŒ |
| ì”¬ ì—­í•  ë¶„ë¥˜ | opening / explanation / emphasis / closing ìë™ íƒœê¹… | ğŸ”´ ë†’ìŒ |
| í¬ì¦ˆ ë³€ì£¼ ë³´ì¥ | ì—°ì† 3ì”¬ ì´ìƒ ê°™ì€ í¬ì¦ˆ ë°©ì§€ | ğŸŸ¡ ì¤‘ê°„ |
| í…ìŠ¤íŠ¸ ì¶”ì¶œ | ë‚˜ë ˆì´ì…˜ í•µì‹¬ ë¬¸êµ¬ë¥¼ í™”ë©´ í…ìŠ¤íŠ¸ë¡œ | ğŸŸ¡ ì¤‘ê°„ |
| BGM êµ¬ê°„ ì¶”ì²œ | ë¶„ìœ„ê¸° ì „í™˜ì ì—ì„œ BGM ë³€ê²½ ì¶”ì²œ | ğŸŸ¢ ë‚®ìŒ |

### LLM API ì„ íƒ

| ì˜µì…˜ | ë¹„ìš© | í’ˆì§ˆ | ê¶Œì¥ |
|------|------|------|------|
| Groq (Llama 3) | ë¬´ë£Œ í‹°ì–´ | ì¤‘ | ê°œë°œ/í…ŒìŠ¤íŠ¸ìš© |
| Claude Haiku | ì €ë ´ | ì¤‘ìƒ | í”„ë¡œë•ì…˜ ê¸°ë³¸ |
| Claude Sonnet | ì¤‘ê°„ | ìƒ | í”„ë¡œë•ì…˜ ê¶Œì¥ |
| GPT-4o-mini | ì €ë ´ | ì¤‘ìƒ | ëŒ€ì•ˆ |

### ì—ëŸ¬ ì²˜ë¦¬
```python
def llm_enrich_with_fallback(narration: str, hint: str) -> dict:
    try:
        result = call_llm(narration, hint)
        validated = validate_llm_output(result)
        return validated
    except (LLMError, ValidationError):
        # LLM ì‹¤íŒ¨ ì‹œ Level 1 ë£° ì—”ì§„ìœ¼ë¡œ í´ë°±
        return rule_based_enrich(narration, hint)
```

### ê°œë°œ ìˆœì„œ
1. LLM í”„ë¡¬í”„íŠ¸ ì„¤ê³„ + í…ŒìŠ¤íŠ¸ (ìˆ˜ë™ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸ ì‹¤í–‰í•˜ë©° í’ˆì§ˆ ê²€ì¦)
2. `[hint: ...]` ë§ˆí¬ë‹¤ìš´ íƒœê·¸ íŒŒì‹±
3. LLM API í˜¸ì¶œ + ì‘ë‹µ íŒŒì‹± ëª¨ë“ˆ
4. ì‘ë‹µ ê²€ì¦ (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í¬ì¦ˆ/ì•„ì´ì½˜ ì²´í¬)
5. enriched ë§ˆí¬ë‹¤ìš´ â†’ ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ ì—°ê²°
6. í´ë°± ë¡œì§ (LLM ì‹¤íŒ¨ â†’ Level 1 ë£°)
7. ì¹´ìš´í„° ìë™ ì¶”ì¶œ (ì •ê·œì‹ + LLM ë³´ì¡°)
8. í”„ë¡¬í”„íŠ¸ ë°˜ë³µ ê°œì„  (ì‹¤ì œ ì˜ìƒ ë³´ê³  í’ˆì§ˆ ì¡°ì •)

---

## C-3. Level 3: í’€ ì˜¤í† 

> ìœ ì €ê°€ ë‚˜ë ˆì´ì…˜ í…ìŠ¤íŠ¸ë§Œ ì…ë ¥í•˜ë©´ ì „ì²´ ì˜ìƒì´ ìë™ ìƒì„±.

### ìœ ì € ì…ë ¥ (ìµœì†Œ)
```markdown
---
title: ë³µë¦¬ì˜ ë§ˆë²•
voice: ko-KR-HyunsuNeural
---

ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ ë³µë¦¬ì˜ ë†€ë¼ìš´ í˜ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.
ë‹¨ë¦¬ëŠ” ì›ê¸ˆì—ë§Œ ì´ìê°€ ë¶™ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ë³µë¦¬ëŠ” ì›ê¸ˆì— ì´ìë¥¼ ë”í•œ ê¸ˆì•¡ì— ë‹¤ì‹œ ì´ìê°€ ë¶™ìŠµë‹ˆë‹¤.
ë°±ë§Œì›ì„ ì—° 7%ë¡œ 30ë…„ íˆ¬ìí•˜ë©´ ì•½ 761ë§Œì›ì´ ë©ë‹ˆë‹¤.
ì‹œê°„ì€ ë³µë¦¬ì˜ ê°€ì¥ ê°•ë ¥í•œ ë¬´ê¸°ì…ë‹ˆë‹¤.
ì˜¤ëŠ˜ë¶€í„° ì‹œì‘í•˜ì„¸ìš”!
```

íŒíŠ¸ë„, ì”¬ êµ¬ë¶„ë„, ì˜¤ë¸Œì íŠ¸ ì§€ì •ë„ ì—†ìŒ. **í…ìŠ¤íŠ¸ë§Œ.**

### ìë™í™” ë²”ìœ„

| ë‹¨ê³„ | ì²˜ë¦¬ ì£¼ì²´ | ë‚´ìš© |
|------|----------|------|
| ì”¬ ë¶„í•  | LLM | ë¬¸ì¥ ë‹¨ìœ„ ë¶„í•  + ì˜ë¯¸ ë‹¨ìœ„ ê·¸ë£¹í•‘ |
| ì”¬ ì—­í•  ë¶„ë¥˜ | LLM | opening/explanation/emphasis/comparison/closing íƒœê¹… |
| ì˜ìƒ í…œí”Œë¦¿ ì„ íƒ | LLM | ì „ì²´ êµ¬ì¡° ë¶„ì„ â†’ concept_explainer / news_summary ë“± |
| ì˜¤ë¸Œì íŠ¸ ìƒì„± | LLM | í…ìŠ¤íŠ¸ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ â†’ ì•„ì´ì½˜/ì¹´ìš´í„°/ë„í˜• ìë™ |
| ìŠ¤í‹±ë§¨ ì—°ì¶œ | LLM | ê°ì • ë¶„ì„ â†’ í¬ì¦ˆ/í‘œì •/ëª¨ì…˜ ì „ì²´ ìë™ |
| ì”¬ í…œí”Œë¦¿ ë°°ì • | LLM + ë£° | ë‹¨ì¡°ë¡œì›€ ë°©ì§€ ì•Œê³ ë¦¬ì¦˜ í¬í•¨ |
| BGM ì„ íƒ | LLM | ì˜ìƒ ì „ì²´ ë¶„ìœ„ê¸° â†’ BGM ìë™ ì„ íƒ |
| í…Œë§ˆ ì„ íƒ | LLM | ì£¼ì œ ë¶„ì„ â†’ ì»¬ëŸ¬ í…Œë§ˆ ìë™ ì„ íƒ |

### ë©€í‹° ìŠ¤í… LLM í˜¸ì¶œ

```
Step 1: ì „ì²´ ë¶„ì„ (1íšŒ í˜¸ì¶œ)
  ì…ë ¥: ì „ì²´ ë‚˜ë ˆì´ì…˜
  ì¶œë ¥: {
    genre: "educational",
    video_template: "concept_explainer",
    theme: "dark_cool",
    bgm: "calm_ambient",
    total_mood: "informative_positive"
  }

Step 2: ì”¬ ë¶„í•  + ì—­í•  ë¶„ë¥˜ (1íšŒ í˜¸ì¶œ)
  ì…ë ¥: ì „ì²´ ë‚˜ë ˆì´ì…˜ + Step 1 ê²°ê³¼
  ì¶œë ¥: [
    { text: "ì•ˆë…•í•˜ì„¸ìš”...", role: "opening" },
    { text: "ë‹¨ë¦¬ëŠ”...", role: "explanation" },
    ...
  ]

Step 3: ì”¬ë³„ ìƒì„¸ êµ¬ì„± (ì”¬ ìˆ˜ë§Œí¼ í˜¸ì¶œ ë˜ëŠ” ë°°ì¹˜)
  ì…ë ¥: ê° ì”¬ í…ìŠ¤íŠ¸ + ì—­í•  + ì „í›„ ì”¬ ì •ë³´
  ì¶œë ¥: ê° ì”¬ì˜ ì˜¤ë¸Œì íŠ¸/í¬ì¦ˆ/í‘œì •/ëª¨ì…˜/í…œí”Œë¦¿
```

### ë‹¨ì¡°ë¡œì›€ ë°©ì§€ ì•Œê³ ë¦¬ì¦˜

```python
def ensure_variety(scenes: list[dict]) -> list[dict]:
    """ì—°ì† ë°˜ë³µ ë°©ì§€"""
    rules = [
        # ê°™ì€ í¬ì¦ˆ 3ì—°ì† ê¸ˆì§€
        ("stickman.pose", max_consecutive=2),
        # ê°™ì€ ì”¬ í…œí”Œë¦¿ 2ì—°ì† ê¸ˆì§€
        ("scene_template", max_consecutive=1),
        # ê°™ì€ ë ˆì´ì•„ì›ƒ 3ì—°ì† ê¸ˆì§€
        ("layout", max_consecutive=2),
        # ê°™ì€ ì¹´ë©”ë¼ 4ì—°ì† ê¸ˆì§€
        ("camera", max_consecutive=3),
    ]
    
    for rule_field, max_consec in rules:
        scenes = apply_variety_rule(scenes, rule_field, max_consec)
    
    return scenes
```

### ë¹„ìš© ê´€ë¦¬

| í•­ëª© | ì˜ˆìƒ (5ë¶„ ì˜ìƒ, ~30ì”¬) |
|------|----------------------|
| Step 1 (1íšŒ) | ~500 í† í° |
| Step 2 (1íšŒ) | ~2000 í† í° |
| Step 3 (ë°°ì¹˜) | ~5000 í† í° |
| **í•©ê³„** | ~7500 í† í° â‰ˆ $0.01~0.05 |

### ê°œë°œ ìˆœì„œ
1. ìë™ ì”¬ ë¶„í•  (ë¬¸ì¥ ë‹¨ìœ„ ê¸°ë³¸ + LLM ê·¸ë£¹í•‘)
2. ì”¬ ì—­í•  ìë™ ë¶„ë¥˜
3. ì˜ìƒ í…œí”Œë¦¿ ìë™ ì„ íƒ
4. ë©€í‹° ìŠ¤í… íŒŒì´í”„ë¼ì¸ êµ¬í˜„
5. ë‹¨ì¡°ë¡œì›€ ë°©ì§€ ì•Œê³ ë¦¬ì¦˜
6. ì „ì²´ í’€ ì˜¤í†  í†µí•© í…ŒìŠ¤íŠ¸
7. ë¹„ìš©/ì„±ëŠ¥ ìµœì í™” (ìºì‹±, ë°°ì¹˜ í˜¸ì¶œ)

---

## C-4. ê°ì • ë¶„ì„ ëª¨ë“ˆ

> Level 2, 3 ëª¨ë‘ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µí†µ ëª¨ë“ˆ

### ê°ì • â†’ ì˜ìƒ ìš”ì†Œ ë§¤í•‘

| ê°ì • | í‘œì • | í¬ì¦ˆ í›„ë³´ | ëª¨ì…˜ | ì¹´ë©”ë¼ | BGM ë¬´ë“œ |
|------|------|----------|------|--------|---------|
| ê¸ì •/ê¸°ì¨ | happy, excited | celebrating, thumbsUp | jumping, clapping | zoom_in_slow | upbeat_light |
| ì¤‘ë¦½/ì„¤ëª… | neutral, focused | explaining, standing | nodding, breathing | static_full | calm_ambient |
| ë†€ëŒ/ê°•ì¡° | surprised | surprised_pose | none | zoom_in_fast | dramatic |
| ë¶€ì •/ê²½ê³  | sad, angry | depressed, shrugging | headShake, nervous | screen_shake | tense |
| ìƒê°/ê³ ë¯¼ | thinking | thinking, sitting | thinking_loop | static_closeup | calm_ambient |
| ë§ˆë¬´ë¦¬/ë…ë ¤ | happy | celebrating, waving | clapping | static_full | inspiring |

### í‚¤ì›Œë“œ ê¸°ë°˜ ê°ì • íƒì§€ (LLM ì—†ì´ë„ ê°€ëŠ¥)
```python
EMOTION_KEYWORDS = {
    "positive": ["ì¢‹ì€", "ë†€ë¼ìš´", "ëŒ€ë‹¨í•œ", "ì„±ê³µ", "ì¶•í•˜", "ë§ˆë²•"],
    "negative": ["ìœ„í—˜", "ì£¼ì˜", "ì†í•´", "ì‹¤íŒ¨", "ì¡°ì‹¬", "ê²½ê³ "],
    "surprise": ["ë¬´ë ¤", "ë†€ëê²Œë„", "ë¯¿ê¸° í˜ë“¤", "ì—„ì²­ë‚œ"],
    "thinking": ["ì™œ", "ì–´ë–»ê²Œ", "ë§Œì•½", "ê·¸ëŸ°ë°", "ê³¼ì—°"],
    "emphasis": ["ê°€ì¥", "í•µì‹¬", "ë°”ë¡œ", "ë°˜ë“œì‹œ", "ì ˆëŒ€"],
    "closing": ["ì‹œì‘í•˜ì„¸ìš”", "ê¸°ì–µí•˜ì„¸ìš”", "ìŠì§€ ë§ˆì„¸ìš”", "ì˜¤ëŠ˜ë¶€í„°"],
}
```

---

## ì „ì²´ ê°œë°œ ìˆœì„œ ìš”ì•½

```
C-1. Level 1 ìŠ¤ë§ˆíŠ¸ ë””í´íŠ¸ (2ì£¼)
  â”œâ”€â”€ ì”¬ í…œí”Œë¦¿ ìë™ ì„ íƒ ë£°
  â”œâ”€â”€ í¬ì¦ˆâ†’ëª¨ì…˜ ìë™ ë§¤ì¹­
  â”œâ”€â”€ ì¹´ë©”ë¼/ë°°ê²½/íŠ¸ëœì§€ì…˜ ìë™ ì„ íƒ
  â””â”€â”€ SFX ìë™ ë§¤í•‘
       â†“
C-4. ê°ì • ë¶„ì„ ëª¨ë“ˆ (1ì£¼)
  â”œâ”€â”€ í‚¤ì›Œë“œ ê¸°ë°˜ ê°ì • íƒì§€
  â””â”€â”€ ê°ì •â†’ì˜ìƒ ìš”ì†Œ ë§¤í•‘ í…Œì´ë¸”
       â†“
C-2. Level 2 LLM ì–´ì‹œìŠ¤í„´íŠ¸ (2~3ì£¼)
  â”œâ”€â”€ LLM í”„ë¡¬í”„íŠ¸ ì„¤ê³„
  â”œâ”€â”€ [hint:] íƒœê·¸ íŒŒì‹±
  â”œâ”€â”€ LLM API ì—°ë™
  â”œâ”€â”€ ì‘ë‹µ ê²€ì¦ + í´ë°±
  â””â”€â”€ ì¹´ìš´í„°/í…ìŠ¤íŠ¸ ìë™ ì¶”ì¶œ
       â†“
C-3. Level 3 í’€ ì˜¤í†  (2~3ì£¼)
  â”œâ”€â”€ ìë™ ì”¬ ë¶„í• 
  â”œâ”€â”€ ë©€í‹° ìŠ¤í… LLM íŒŒì´í”„ë¼ì¸
  â”œâ”€â”€ ë‹¨ì¡°ë¡œì›€ ë°©ì§€ ì•Œê³ ë¦¬ì¦˜
  â””â”€â”€ í†µí•© í…ŒìŠ¤íŠ¸ + ë¹„ìš© ìµœì í™”
```

### ì™„ë£Œ ê¸°ì¤€
- Level 1: ê¸°ì¡´ ë§ˆí¬ë‹¤ìš´ ë„£ìœ¼ë©´ ë ˆì´ì•„ì›ƒ/ëª¨ì…˜/ì¹´ë©”ë¼ê°€ ìë™ìœ¼ë¡œ ë‹¤ì–‘í•´ì§
- Level 2: íŒíŠ¸ë§Œ ì ì–´ë„ 90% ì™„ì„±ë„ì˜ ì˜ìƒ
- Level 3: ë‚˜ë ˆì´ì…˜ë§Œ ì¨ë„ ìœ íŠœë¸Œ ì—…ë¡œë“œ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì˜ ì˜ìƒ